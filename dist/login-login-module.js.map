{"version":3,"sources":["webpack:///./src/app/login/login-routing.module.ts","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.scss","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/login/login.module.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from './login.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: LoginComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class LoginRoutingModule {}\n","module.exports = \"<div class=\\\"login-page\\\" [@routerTransition]>\\n<ngx-alerts></ngx-alerts>\\n<ngx-loading [show]=\\\"loading\\\" [config]=\\\"{backdropBorderRadius: '14px'}\\\"></ngx-loading>\\n    <div class=\\\"row justify-content-md-center\\\">\\n        <div class=\\\"col-md-4\\\">\\n            <img src=\\\"assets/images/logo.png\\\" width=\\\"150px\\\" class=\\\"user-avatar\\\" />\\n            <h1>{{ 'Login.welcome' | translate }}</h1>\\n            <form role=\\\"form\\\" id=\\\"loginForm\\\" name=\\\"frmUsuario\\\" method=\\\"POST\\\">\\n                <div class=\\\"form-content\\\">\\n                    <div class=\\\"form-group\\\" >\\n                        <input type=\\\"text\\\"  class=\\\"form-control input-underline input-lg\\\" id=\\\"tbxUser\\\" name=\\\"_username\\\" placeholder=\\\"{{ 'Login.username' | translate }}\\\">\\n                    </div>\\n\\n                    <div class=\\\"form-group\\\" >\\n                        <input type=\\\"text\\\" class=\\\"form-control input-underline input-lg\\\" id=\\\"tbxPass\\\" name=\\\"_password\\\" placeholder=\\\"{{ 'Login.password' | translate }}\\\">\\n                    </div>\\n\\n\\n                    <input type=\\\"hidden\\\"  id=\\\"email\\\" value=\\\"\\\">\\n                    <input type=\\\"hidden\\\"  id=\\\"id\\\" value=\\\"\\\">\\n                    <input type=\\\"hidden\\\"  id=\\\"name\\\" value=\\\"\\\">\\n\\n                \\n\\n                </div>\\n                <a class=\\\"btn rounded-btn\\\"  id=\\\"login2\\\"  (click)=\\\"abrirVentana(0);\\\"> {{ 'Login.in' | translate }} </a>\\n               \\n\\n               \\n                <p></p>\\n                <h5 >{{ 'Login.msg1' | translate }}</h5>\\n                <p></p>\\n                <a class=\\\"btn rounded-btn\\\" [routerLink]=\\\"['/signup']\\\">{{ 'Login.register' | translate }}</a>\\n                <div id=\\\"iframe\\\" class=\\\"clear\\\" style=\\\"visibility:hidden;\\\"></div>\\n            </form>\\n\\n             <button style=\\\"display:none\\\" id=\\\"loginHidden\\\" (click)=\\\"onLoggedin()\\\"></button>\\n\\n\\n        </div>\\n    </div>\\n\\n\\n\\n</div>\\n\"","module.exports = \":host {\\n  display: block; }\\n\\n.login-page {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  overflow: auto;\\n  background: #1d5d83;\\n  text-align: center;\\n  color: #fff;\\n  padding: 3em; }\\n\\n.login-page .col-lg-4 {\\n    padding: 0; }\\n\\n.login-page .input-lg {\\n    height: 46px;\\n    padding: 10px 16px;\\n    font-size: 18px;\\n    line-height: 1.3333333;\\n    border-radius: 0; }\\n\\n.login-page .input-underline {\\n    background: 0 0;\\n    border: none;\\n    box-shadow: none;\\n    border-bottom: 2px solid rgba(255, 255, 255, 0.5);\\n    color: #fff;\\n    border-radius: 0; }\\n\\n.login-page .input-underline:focus {\\n    border-bottom: 2px solid #fff;\\n    box-shadow: none; }\\n\\n.login-page .rounded-btn {\\n    border-radius: 50px;\\n    color: rgba(255, 255, 255, 0.8);\\n    background: #1d5d83;\\n    border: 2px solid rgba(255, 255, 255, 0.8);\\n    font-size: 18px;\\n    line-height: 40px;\\n    padding: 0 25px; }\\n\\n.login-page .rounded-btn:hover,\\n  .login-page .rounded-btn:focus,\\n  .login-page .rounded-btn:active,\\n  .login-page .rounded-btn:visited {\\n    color: white;\\n    border: 2px solid white;\\n    outline: none; }\\n\\n.login-page h1 {\\n    font-weight: 300;\\n    margin-top: 20px;\\n    margin-bottom: 10px;\\n    font-size: 36px; }\\n\\n.login-page h1 small {\\n      color: rgba(255, 255, 255, 0.7); }\\n\\n.login-page .form-group {\\n    padding: 8px 0; }\\n\\n.login-page .form-group input::-webkit-input-placeholder {\\n      color: rgba(255, 255, 255, 0.6) !important; }\\n\\n.login-page .form-group input:-moz-placeholder {\\n      /* Firefox 18- */\\n      color: rgba(255, 255, 255, 0.6) !important; }\\n\\n.login-page .form-group input::-moz-placeholder {\\n      /* Firefox 19+ */\\n      color: rgba(255, 255, 255, 0.6) !important; }\\n\\n.login-page .form-group input:-ms-input-placeholder {\\n      color: rgba(255, 255, 255, 0.6) !important; }\\n\\n.login-page .form-content {\\n    padding: 40px 0; }\\n\\n.login-page .user-avatar {\\n    border-radius: 50%;\\n    border: 2px solid #fff; }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { routerTransition } from '../router.animations';\nimport { TempUser } from '../../models/temp-user';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AuthService } from '../../services/auth.service';\nimport { SeoApisService } from '../../services/seo-apis.service';\n\n\nimport {AlertService} from 'ngx-alerts';\n\ndeclare var $:any;\n\n\n\n@Component({\n    selector: 'app-login',\n    templateUrl: './login.component.html',\n    styleUrls: ['./login.component.scss'],\n    animations: [routerTransition()]\n})\nexport class LoginComponent implements OnInit {\n    url:string=\"localhost:8000/api/login\";\n    login1:boolean=false;\t\n    loading:boolean=false;\n    geolocationPosition:any;\n    madridLat:any=40.417329;\n    madridLon:any=-3.703722;\n\n    constructor(private translate: TranslateService, \n    \t\t\tpublic router: Router,\n    \t\t\tprivate alertService: AlertService,\n    \t\t\tpublic authService: AuthService,\n                public seoApisService: SeoApisService) {\n    \tthis.translate.addLangs(['en', 'es', 'cat', 'gal', 'eus']);\n        this.translate.setDefaultLang('es');\n\n         //localStorage.setItem('isLoggedin', 'true');\n\n        localStorage.clear();\n    }\n\n    ngOnInit() {\n        \n        \n    }\n\n//08072019--------------------------------------------------------------------------------------------------\n    \n    getLocalizacion(){\n     if (window.navigator && window.navigator.geolocation) {\n        window.navigator.geolocation.getCurrentPosition(\n            position => {\n                this.geolocationPosition = position,\n                    console.log(position);\n                localStorage.setItem('latitude', ''+position[\"coords\"][\"latitude\"]);\n                localStorage.setItem('longitude', ''+position[\"coords\"][\"longitude\"]);\n\n            },\n            error => {\n                localStorage.setItem('latitude', this.madridLat);\n                localStorage.setItem('longitude', this.madridLon);\n                switch (error.code) {\n                    case 1:\n                        console.log('Permission Denied');\n                        break;\n                    case 2:\n                        console.log('Position Unavailable');\n                        break;\n                    case 3:\n                        console.log('Timeout');\n                        break;\n                }\n            }\n        );\n    };\n  }\n    \n    \n    \n\n    onLoggedin() {\n\n        if (this.login1==true){\n               this.login1=false;\n               this.loading=true;\n               \n              \n                let idData={\n                    id_usu: $(\"#id\").val()\n                }\n\n                //Comprobamos si es la primera vez que se logea en la aplicacion\n\n                this.authService.isRegistered(idData).subscribe(\n                    data=>{\n                        console.log(\"DATA: \");\n                        console.log(data);\n                       //Ye tenemos datos\n                       this.login();\n                    },\n                    error=>{\n                        console.log(\"ERROR: \");\n                        console.log(error);\n                        //Es la primera vez\n                        this.firstTimeLogin();\n                    }\n\n\n                    );\n\n               \n  \n        }else{\n            console.log(\"Error. falta el paso 1\");\n        }\n        \n\n                //\n    }\n\n    login(){\n\n        let data={\n                  \"username\":$(\"#email\").val(),\n                  \"password\":$(\"#tbxPass\").val()\n                };\n         this.authService.login(data).subscribe(\n                      message => {\n                        this.loading=false;\n                        console.log(message);\n                        localStorage.setItem('isLoggedin', 'true');\n                        localStorage.setItem('token',message[\"access_token\"] );\n                        localStorage.setItem('userName', $(\"#name\").val());\n                        localStorage.setItem('userId', $(\"#id\").val());\n                        localStorage.setItem('userEmail', $(\"#email\").val());\n                        this.getLocalizacion();\n\n\n                        this.router.navigate(['/selector']);\n                      },\n                      error => {\n                          this.loading=false;\n                          this.alertService.warning(this.translate.instant(\"Login.error1\"));\n                        console.log(error);\n\n                          \n                    }\n                );\n    }\n\n    firstTimeLogin(){\n\n        let data={\n                  \"id_usu\": $(\"#id\").val(),\n                  \"password\":$(\"#tbxPass\").val(),\n                  \"email\":$(\"#email\").val()\n                };\n\n\n                this.authService.register(data).subscribe(\n                    data=>{\n                        //Nos hemos registrado correctamente, ahora nos logeamos\n                        this.login();\n                    },\n                    error=>{\n                        console.log(error);\n\n                    }\n                    );\n\n    }\n\n    //------------------------------------PEDRO SILOS ---------------------------------------------\n\n   \n\n    abrirVentana(nTipo) {\n        \n         \n        this.login1=true;\n\n        var sUser = $(\"#tbxUser\").val();\n        var sPass = $(\"#tbxPass\").val();\n        var sId = $(\"#tbxID\").val();\n        var result;\n\n        var sLink = \"http://www.seguimientodeaves.org/_Atlas/frmLoginCensosServer.php\";\n        sLink += \"?TIPO=\"+nTipo+\"&USER=\"+sUser+\"&PASS=\"+sPass+\"&ID=\"+sId;\n        $(function(){\n            var src = sLink + '&REF=#' + encodeURIComponent( document.location.href );\n            var sty = 'visibility:hidden;';\n            try {\n                $('#iframe').children('iframe').remove();\n                let iframe = $( '<iframe src=\"' + src + '\" style=\"' + sty + '\" scrolling=\"no\" frameborder=\"1\"><\\/iframe>' ).appendTo( '#iframe' );\n            } catch (e) {}\n            $.receiveMessage(\n\n                function(e){\n                    var h = e.data.replace( 'sVal=', '' );\n\n                    h = decodeURIComponent(h);\n                    while (h.toString().indexOf('+') != -1) h = h.toString().replace('+',' ');\n\n                    function cerrar (sValor){\n                        var sTxt = \"\";\n                        if (sValor != '') {\n\n                            var sRet = sValor.split(\"#\");\n                            sTxt += \"ID:\"+sRet[0]+\"#\";\n                            sTxt += \"NOMBRE:\"+sRet[1]+\"#\";\n                            sTxt += \"EMAIL:\"+sRet[2]+\"#\";\n                            \n                            (<HTMLInputElement>document.getElementById(\"id\")).value=sRet[0];\n                            (<HTMLInputElement>document.getElementById(\"name\")).value=sRet[1];\n                            (<HTMLInputElement>document.getElementById(\"email\")).value=sRet[2];\n\n\n                            document.getElementById(\"loginHidden\").click();\n\n                        } else{\n                            sTxt = \"NOT FOUND\";\n                        }\n                    }\n\n                     cerrar(h);\n\n\n                     \n            }, 'http://www.seguimientodeaves.org' );\n\n        });\n\n        \n    }\n\n\n    \n\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { LoginRoutingModule } from './login-routing.module';\nimport { LoginComponent } from './login.component';\nimport { AlertModule } from 'ngx-alerts';\nimport { NgxLoadingModule } from 'ngx-loading';\n\n@NgModule({\n    imports: [CommonModule, \n    \t\t\tLoginRoutingModule,\n    \t\t\tNgxLoadingModule.forRoot({}),\n    \t\t\tTranslateModule,\n        \t\tAlertModule.forRoot({maxMessages: 5, timeout: 5000, position: 'right'})\n        ],\n    declarations: [LoginComponent]\n})\nexport class LoginModule {}\n"],"sourceRoot":""}